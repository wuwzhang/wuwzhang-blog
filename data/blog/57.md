---
title: 第57期
date: '2021-07-08'
tags: []
draft: false
---

<TOCInline toc={props.toc} asDisclosure toHeading={3} />

## 2021/07/08

## 每周资讯 - 第`57`期

### 1. 基于微前端的住宿商家应用治理

来自【活动】美团技术沙龙第 61 期：微前端架构设计和实践。
[视频地址](http://mpvideo.qpic.cn/0bf2muaaiaaafeanhdw2ojqfazodarsqabaa.f10002.mp4?dis_k=fcc9f1053e8997d2cb8ee3f62c1066c1&dis_t=1625474686&spec_id=MjM5MTA1MjAxMQ%3D%3D1625474743&vid=wxv_1935460396044189704&format_id=10002)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnSca411wvE5e4VqE4eDic7MO84ClvyMZN2F1AxRn1pnapksialnWwamucygg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScafyCiamoBUGsNPA55TbKibTyFgicL2ribwrR912GpXxPHTGz003dcUz0s7g/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaG3M0YiaibBnqXn2d8YYrwKb5BPpsyRW0gEaEjrN9OfKGUptRVKng2lDg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaWdvbAWbcFn9wbEKkkTt1DWS9ZMUB7IVpog8WD36lNXBhankqibprEGw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScafjl6ImrgqF8LdkwkGX0c9hFECnibx108VOAicruKwgtL4FlrIxhlORJw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaXicNSRiaiahZ9KyPM8byfnr9YPLZZe4fkSnic2pf3f9ehrhSYjSkTO55kg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnSca2YCEicb7Wg7AEzoa7Xtff74dpFlkfcXx3Btp2JyYb1yKCTiaTeyq3icLg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScarPGAIEjwqiaSUtb4bpEyP7DE0etib4xYEu9bOPlnRiamyVdtRZy9ABUDw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScanshaqSdibAVsib7ibqCL2GuyaTqq46pt2dosrH1cDob0PwEA9tNlbMvwg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScalXYcb1AXWxd2QguCq9ic0oQ0oyKWicPy6fOibt6zTELLWuialTnoPdZB4w/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnSca1HYmnfICfozPMDbPicqJMcjc8RE1fGx4op4WGRMhsqVAHNlIwtTZFMg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnSca9UyDLb1QknnBicoAiaN6B2L15RHIBScStRQfbWnVfeJ5NqKBuCHoURZA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScah72xHSng8WkAv2PLcb6B6nHic3u5pPfrfQbtAV5ibrGLRnTAq7vEaFBA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaUCkGYQ5xd6XxPTe4uc6DqSQfsqiarjOEMDTotazSPDvGMtice2CJLb7A/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScarHib8ibDdYpiaAvkZT2xz5D3iaCPE6uBZKU4ib0X4GZiaTQse7XQlZkdjfibw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaUfEPKkbV0r6BrU0DZhaGge6koVeO8GROL1TbnNmicC75415Q2wry0XQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScavBuTKKdANcuL7cpGVBGNMSuBRJJqleIFAib5eTX8Cw669PoBux5SWcA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaBjYlXKEJsbicwR9Ehia3PDdjDFoMIAicTXCWTDRiayoJnqqja2iaBE6JvGA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaKLpfHlfU8ibEw6Dxw7OA3d1HVGmrlJDSJXs1r960XeCJZlOSujNBOVQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaAe4zs1FkicClddvmEiaYaPZmiaVmTIkpXJ5GaEibcV9rIvLHmIIU1Ygvsg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScatoS1iaJZJa379nJp3VoRd5q5ic7mhvMJzjI1tzD5DlLpUAia35u8lBd0w/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScakeBF9dvRLujMne6Qw0L62Bq8z4YPRVKyiafh6L4dU7znWqgF3DMSlicA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnSca4Ls9gdjWwavIMgEiad8OaJU8KJ4KibGJqp1RaicPdsf8CgPY8bhpN3Y3g/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScabjXGrI8bovpZOnHe0j7TzKzWjJI2ILyc6bsLYPJFwkiaFbhDWF4mfxA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScayDy6Ak1ljBw9CAnRph5AGX9KA1WtAm7SvKUvo5WKicM49kb8COrLhNg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaj7GS7JtmN9zwGXx1hn0kl9Wly2gkRbk2btfiaXgN6XElMyTbXwAAPcA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaMQNcWzGib8MEfuTbicbZgOj9A26ibLq3vsibbRKy1ATqlgaafzZHibqv4kg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaUkZCGHcFgLoF78E6BhhB95vSibtmoibdiccB5mNyrqyqdXJUYN1m5ic6NQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnScaS5VBQz4co78aMWTKtS3IXfkYmVrHYcZoOk39IcoDqs4ZKoeVN4CnGA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
![](https://mmbiz.qpic.cn/mmbiz_jpg/meG6Vo0Mevh5vsOfJGuAIB3Uian1xnSca7iathlOemQYs3lSjFZnTDrDfoNiaT31DcS0wAy2u0hv7nUk83fUb6N9Q/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

#### 来源

### 2. [程序员提前下班的福音来了！GitHub、OpenAI 联手推出 AI 代码生成神器](https://mp.weixin.qq.com/s/Zsaz4Jcy4w0jka2XkqB2Ug)

编程门槛正在降低，编程效率正在提升，我们距离「人人都能成为开发者」的目标更近一步。这不，微软正式宣布发布了一个人工智能代码建议方案——GitHub Copilot，可以在程序员编码的时候自动推荐/生成代码供其使用，解放程序员的双手，再也不用因为敲代码而加班了！

#### 来源

- [程序员提前下班的福音来了！GitHub、OpenAI 联手推出 AI 代码生成神器](https://mp.weixin.qq.com/s/Zsaz4Jcy4w0jka2XkqB2Ug)

## 30 seconds of code

### 目标

用 Web 工作者在单独的线程中运行函数，允许长时间运行的功能不阻止 UI 渲染

### 样例输出:

```js
const longRunningFunction = () => {
  let result = 0
  for (let i = 0; i < 1000; i++)
    for (let j = 0; j < 700; j++) for (let k = 0; k < 300; k++) result = result + i + j + k

  return result
}

runAsync(longRunningFunction).then(console.log) // 209685000000
runAsync(() => 10 ** 3).then(console.log) // 1000
let outsideVariable = 50
runAsync(() => typeof outsideVariable).then(console.log) // 'undefined'
```

### 参考实现

```js
const runAsync = (fn) => {
  const worker = new Worker(
    URL.createObjectURL(new Blob([`postMessage((${fn})());`]), {
      type: 'application/javascript; charset=utf-8',
    })
  )
  return new Promise((res, rej) => {
    worker.onmessage = ({ data }) => {
      res(data), worker.terminate()
    }
    worker.onerror = (err) => {
      rej(err), worker.terminate()
    }
  })
}
```

## 每日一问

> 模拟实现一个 Promise.finally

## 每日二问

> 在输入框中如何判断输入的是一个正确的网址。

### 上期的答案

#### 每日一问

> Http 状态码 301 和 302 的应用场景分别是什么

![](https://user-images.githubusercontent.com/23393062/63314108-37e7c880-c339-11e9-88c2-2d2390a07904.png)

#### 每日二问

> 实现模糊搜索结果的关键词高亮显示

![](http://resource.muyiy.cn/image/20191215220524.png)

```js
function handleInput(value) {
  const reg = new RegExp(`\(${value}\)`)
  const search = data.reduce((res, cur) => {
    if (reg.test(cur)) {
      const match = RegExp.$1
      res.push(`<li>${cur.replace(match, '<bdi>$&</bdi>')}</li>`)
    }
    return res
  }, [])
  return search
}
```
